---
// Moerbeck Portfolio - Minimalista & Directo
import '../styles/global.css';
import { Image } from 'astro:assets';
import AZBEZIAD from '../assets/projects/AZBEZIAD.png';
import HMMCODE from '../assets/projects/HMMCODE.png';
import KIMYMANUALIDADES from '../assets/projects/KIMYMANUALIDADES.png';
import MERCADOCLEAN from '../assets/projects/MERCADOCLEAN.png';
import NGFCHILE from '../assets/projects/NGFCHILE.png';
import TRANSPORTEKMP from '../assets/projects/TRANSPORTEKMP.png';

const services = [
	{
		icon: '‚ö°',
		title: 'Desarrollo Web',
		description: 'Aplicaciones modernas y escalables'
	},
	{
		icon: 'ü§ñ',
		title: 'Automatizaci√≥n',
		description: 'Scripts que ahorran tiempo'
	},
	{
		icon: 'üñ•Ô∏è',
		title: 'Soporte IT',
		description: 'Infraestructura confiable'
	}
];

const projects = [
	{
		title: 'AZBEZIAD',
		description: 'Sitio corporativo con foco en servicios y contacto directo.',
		tags: ['Web', 'UI', 'SEO'],
		image: AZBEZIAD,
		url: 'https://azbeziad.cl'
	},
	{
		title: 'HMMCODE',
		description: 'Landing tecnol√≥gica con copy directo y estructura minimal.',
		tags: ['Landing', 'Performance', 'UI'],
		image: HMMCODE,
		url: 'https://hmmcode.cl'
	},
	{
		title: 'KIMY MANUALIDADES',
		description: 'Cat√°logo artesanal con √©nfasis visual en productos.',
		tags: ['Ecommerce', 'Cat√°logo', 'UX'],
		image: KIMYMANUALIDADES,
		url: 'https://kimymanualidades.cl'
	},
	{
		title: 'MERCADO CLEAN',
		description: 'Web de servicios con formularios y llamada a la acci√≥n.',
		tags: ['Servicios', 'Lead Gen', 'UI'],
		image: MERCADOCLEAN,
		url: 'https://mercadoclean.cl'
	},
	{
		title: 'NGF CHILE',
		description: 'Presentaci√≥n institucional con estructura clara y limpia.',
		tags: ['Corporate', 'Brand', 'UX'],
		image: NGFCHILE,
		url: 'https://ngfchile.cl'
	},
	{
		title: 'TRANSPORTE KMP',
		description: 'Landing log√≠stica con informaci√≥n clave y contacto r√°pido.',
		tags: ['Log√≠stica', 'Landing', 'SEO'],
		image: TRANSPORTEKMP,
		url: 'https://transportekmp.cl'
	}
];

const technologies = ['Python', 'JavaScript', 'React', 'Node.js', 'PostgreSQL', 'Docker'];
---

<!DOCTYPE html>
<html lang="es">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<meta name="description" content="Moerbeck - Ingeniero Inform√°tico especializado en desarrollo de software y soporte IT de alto nivel">
	<title>Moerbeck | Ingeniero Inform√°tico</title>

	<!-- Preload critical fonts -->
	<link rel="preconnect" href="https://fonts.googleapis.com">
	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>

	<!-- Favicon -->
	<link rel="icon" type="image/png" href="/mlogo.png">
</head>
<body>
	<!-- Navigation -->
	<nav class="nav" style="transform: translateY(0); opacity: 1;">
		<div class="nav-content">
			<a href="#" class="nav-logo">MOERBECK<span>.</span></a>
			<ul class="nav-links">
				<li><a class="nav-link" data-scroll="work">Proyectos</a></li>
				<li><a class="nav-link" data-scroll="contact">Contacto</a></li>
			</ul>
			<button class="mobile-menu-toggle" aria-label="Toggle menu">
				<span></span>
				<span></span>
				<span></span>
			</button>
		</div>
	</nav>

	<!-- Hero Section - Ultra Limpio -->
	<section id="hero" class="hero-section">
		<div class="hero-bg">
			<div class="hero-glow"></div>
		</div>

		<div class="hero-content wrapper">
			<p class="hero-intro reveal">Ingeniero Inform√°tico</p>
			<h1 class="hero-title-pro reveal">
				Creo software<br>
				<span class="hero-accent">que funciona.</span>
			</h1>
			<p class="hero-subtitle-pro reveal">
				Desarrollo web, automatizaci√≥n y soporte IT.
			</p>
			<div class="hero-cta-pro reveal">
				<a href="#contact" class="btn btn-primary"><span>Hablemos</span></a>
			</div>
		</div>
	</section>

	<!-- Clientes - Logos -->
	<section id="clients" class="clients-section">
		<div class="wrapper">
			<h2 class="clients-title reveal">Empresas que conf√≠an en nosotros</h2>
			<div class="clients-grid reveal-card">
				<!-- Los logos ir√°n aqu√≠ din√°micamente -->
				<p style="text-align: center; color: var(--color-text-muted); grid-column: 1 / -1;">Sube los logos a la carpeta src/assets/clients/</p>
			</div>
		</div>
	</section>

	<!-- Servicios - Simple -->
	<section id="services" class="services-minimal">
		<div class="wrapper">
			<div class="services-row">
				{services.map((service) => (
					<div class="service-mini reveal-card">
						<span class="service-icon-mini">{service.icon}</span>
						<h3 class="service-title-mini">{service.title}</h3>
						<p class="service-desc-mini">{service.description}</p>
					</div>
				))}
			</div>
		</div>
	</section>

	<!-- Proyectos - Solo 2 destacados -->
	<section id="work" class="work-section">
		<div class="wrapper">
			<h2 class="work-title reveal">Trabajo reciente</h2>

			<div class="work-grid">
				{projects.map((project) => (
					<article class="work-card reveal-card">
						<div class="work-image">
							<a href={project.url} target="_blank" rel="noopener">
								<Image
									src={project.image}
									alt={project.title}
									loading="lazy"
									decoding="async"
									sizes="(max-width: 768px) 100vw, 60vw"
									widths={[640, 960, 1280, 1600]}
									format="webp"
								/>
							</a>
						</div>
						<div class="work-info">
							<h3>{project.title}</h3>
							<p>{project.description}</p>
							<div class="work-tags">
								{project.tags.map((tag) => (
									<span>{tag}</span>
								))}
							</div>
						</div>
					</article>
				))}
			</div>

			<p class="work-note reveal">6 proyectos completados hasta la fecha.</p>
		</div>
	</section>

	<!-- Contact - Minimalista -->
	<section id="contact" class="contact-minimal">
		<div class="wrapper">
			<div class="contact-center">
				<h2 class="reveal">¬øTienes un proyecto?</h2>
				<p class="reveal">Cu√©ntame qu√© necesitas.</p>

				<div class="contact-links reveal">
					<a href="mailto:hansmaxmoerbeck@gmail.com" class="contact-link-big">
						hansmaxmoerbeck@gmail.com
					</a>
					<div class="contact-social">
						<a href="https://github.com/CrossPavez" target="_blank" rel="noopener">GitHub</a>
						<a href="https://linkedin.com/in/hans-max-moerbeckpavez" target="_blank" rel="noopener">LinkedIn</a>
					</div>
				</div>
			</div>
		</div>
	</section>

	<!-- Footer -->
	<footer class="footer">
		<div class="wrapper">
			<p>¬© 2025 Moerbeck</p>
		</div>
	</footer>

	<!-- Minimal Animations -->
	<script>
		import gsap from 'gsap';
		import { ScrollTrigger } from 'gsap/ScrollTrigger';
		import Lenis from 'lenis';

		gsap.registerPlugin(ScrollTrigger);

		const lenis = new Lenis({
			duration: 1.35,
			easing: (t) => Math.min(1, 1.001 - Math.pow(2, -10 * t)),
			smooth: true,
			smoothTouch: false,
		});

		function raf(time) {
			lenis.raf(time);
			requestAnimationFrame(raf);
		}
		requestAnimationFrame(raf);

		lenis.on('scroll', ScrollTrigger.update);
		gsap.ticker.add((time) => lenis.raf(time * 1000));
		gsap.ticker.lagSmoothing(0);

		// Nav scroll state
		window.addEventListener('scroll', () => {
			const nav = document.querySelector('.nav');
			if (window.scrollY > 40) {
				nav?.classList.add('scrolled');
			} else {
				nav?.classList.remove('scrolled');
			}
		});

		// Smooth scroll navigation
		document.querySelectorAll('[data-scroll]').forEach((link) => {
			link.addEventListener('click', (e) => {
				e.preventDefault();
				const target = document.getElementById(link.dataset.scroll);
				if (target) lenis.scrollTo(target, { offset: -80, duration: 1.1 });
			});
		});

		// Hero entrance
		const prefersReduced = window.matchMedia('(prefers-reduced-motion: reduce)').matches;
		if (prefersReduced) {
			gsap.set('.reveal, .reveal-card', { opacity: 1, y: 0, clearProps: 'transform' });
		} else {
			gsap.fromTo(
				'.reveal',
				{ y: 32, opacity: 0 },
				{
					y: 0,
					opacity: 1,
					duration: 1.1,
					ease: 'power3.out',
					stagger: 0.12
				}
			);

			gsap.utils.toArray('.reveal-card').forEach((card) => {
				gsap.fromTo(
					card,
					{ y: 40, opacity: 0 },
					{
						y: 0,
						opacity: 1,
						duration: 1.0,
						ease: 'power3.out',
						scrollTrigger: {
							trigger: card,
							start: 'top 85%',
							toggleActions: 'play none none reverse'
						}
					}
				);
			});
		}

		// Subtle parallax glow
		const glow = document.querySelector('.hero-glow');
		if (glow) {
			gsap.to(glow, {
				y: 40,
				duration: 6,
				repeat: -1,
				yoyo: true,
				ease: 'sine.inOut'
			});
		}
	</script>
</body>
</html>
